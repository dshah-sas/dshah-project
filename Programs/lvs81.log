 
 1          OPTIONS NONOTES NOSTIMER NOSOURCE NOSYNTAXCHECK;
 NOTE: ODS statements in the SAS Studio environment may disable some output features.
 73         
 74         /**-------------------------------------------------------------------------------------------**
 75         ** PROGRAM:    LVS81.SAS
 76         ** CREATED:    December 2019
 77         ** PURPOSE:    Create Vital Sign Listing 8.1
 78         ** PROGRAMMER: Deepti Shah
 79         ** INPUT:      adsllib.advs
 80         ** OUTPUT:     Listing 8.1 (VS_L81.rtf)
 81         ** PROTOCOL:   PROD-124
 82         **-------------------------------------------------------------------------------------------**/
 83         /* ----------- SAS University Edition 9.4 ----------- */
 84         
 85         
 86         /*Fetch data from ADVS dataset*/
 87         
 88         
 89         data lvs;
 90         set adsllib.advs;
 91         run;
 
 NOTE: There were 1913 observations read from the data set ADSLLIB.ADVS.
 NOTE: The data set WORK.LVS has 1913 observations and 36 variables.
 NOTE: DATA statement used (Total process time):
       real time           0.03 seconds
       cpu time            0.02 seconds
       
 
 92         
 93         
 94         data sysbp(keep=usubjid trt01p trt01pn avisit avisitn aval chg rename=(aval=sysval chg=syschg));
 95         set lvs(where=(vstestcd="SYSBP"));
 96         run;
 
 NOTE: There were 432 observations read from the data set WORK.LVS.
       WHERE vstestcd='SYSBP';
 NOTE: The data set WORK.SYSBP has 432 observations and 7 variables.
 NOTE: DATA statement used (Total process time):
       real time           0.00 seconds
       cpu time            0.00 seconds
       
 
 97         
 98         data diabp(keep=usubjid trt01p trt01pn avisit avisitn aval chg rename=(aval=diaval chg=diachg));
 99         set lvs(where=(vstestcd="DIABP"));
 100        run;
 
 NOTE: There were 432 observations read from the data set WORK.LVS.
       WHERE vstestcd='DIABP';
 NOTE: The data set WORK.DIABP has 432 observations and 7 variables.
 NOTE: DATA statement used (Total process time):
       real time           0.01 seconds
       cpu time            0.02 seconds
       
 
 101        
 102        data HRate(keep=usubjid trt01p trt01pn avisit avisitn aval chg rename=(aval=hrval chg=hrchg));
 103        set lvs(where=(vstestcd="HR"));
 104        run;
 
 NOTE: There were 432 observations read from the data set WORK.LVS.
       WHERE vstestcd='HR';
 NOTE: The data set WORK.HRATE has 432 observations and 7 variables.
 NOTE: DATA statement used (Total process time):
       real time           0.00 seconds
       cpu time            0.00 seconds
       
 
 105        
 106        data OSat(keep=usubjid trt01p trt01pn avisit avisitn aval chg rename=(aval=oxval chg=oxchg));
 107        set lvs(where=(vstestcd="O2SAT"));
 108        run;
 
 NOTE: There were 432 observations read from the data set WORK.LVS.
       WHERE vstestcd='O2SAT';
 NOTE: The data set WORK.OSAT has 432 observations and 7 variables.
 NOTE: DATA statement used (Total process time):
       real time           0.01 seconds
       cpu time            0.02 seconds
       
 
 109        
 110        /**----------- merge for final listing ----------------**/;
 111        
 112        proc sort data=sysbp;
 113        by usubjid avisitn avisit trt01pn trt01p;
 114        run;
 
 NOTE: There were 432 observations read from the data set WORK.SYSBP.
 NOTE: The data set WORK.SYSBP has 432 observations and 7 variables.
 NOTE: PROCEDURE SORT used (Total process time):
       real time           0.00 seconds
       cpu time            0.01 seconds
       
 
 115        
 116        proc sort data=diabp;
 117        by usubjid avisitn avisit trt01pn trt01p;
 118        run;
 
 NOTE: There were 432 observations read from the data set WORK.DIABP.
 NOTE: The data set WORK.DIABP has 432 observations and 7 variables.
 NOTE: PROCEDURE SORT used (Total process time):
       real time           0.00 seconds
       cpu time            0.00 seconds
       
 
 119        
 120        proc sort data=HRate;
 121        by usubjid avisitn avisit trt01pn trt01p;
 122        run;
 
 NOTE: There were 432 observations read from the data set WORK.HRATE.
 NOTE: The data set WORK.HRATE has 432 observations and 7 variables.
 NOTE: PROCEDURE SORT used (Total process time):
       real time           0.01 seconds
       cpu time            0.01 seconds
       
 
 123        
 124        proc sort data=Osat;
 125        by usubjid avisitn avisit trt01pn trt01p;
 126        run;
 
 NOTE: There were 432 observations read from the data set WORK.OSAT.
 NOTE: The data set WORK.OSAT has 432 observations and 7 variables.
 NOTE: PROCEDURE SORT used (Total process time):
       real time           0.00 seconds
       cpu time            0.01 seconds
       
 
 127        
 128        data lvs_f;
 129        merge sysbp(in=insys)
 130        diabp(in=india)
 131        hrate
 132        osat
 133            ;
 134        
 135        attrib tpt length = $80;
 136        
 137        by usubjid avisitn avisit trt01pn trt01p;
 138        
 139        if AVISIT = "STUDY DAY 1" then tpt = "Screening";
 140        else if AVISIT = "STUDY DAY 2" then tpt = "Study Day 2";
 141        else if AVISIT = "STUDY DAY 1 -5 min" then tpt = "-5 min";
 142        else if AVISIT = "STUDY DAY 1 0 min" then tpt = "0 min";
 143        else if AVISIT = "STUDY DAY 1 5 min" then tpt = "Baseline^{super c}";
 144        else if AVISIT = "STUDY DAY 1 1 HOUR AFTER INFUSION PERIOD #2" then tpt = "+105 min";
 145        else tpt = "+"||substr(avisit,13);
 146        run;
 
 NOTE: There were 432 observations read from the data set WORK.SYSBP.
 NOTE: There were 432 observations read from the data set WORK.DIABP.
 NOTE: There were 432 observations read from the data set WORK.HRATE.
 NOTE: There were 432 observations read from the data set WORK.OSAT.
 NOTE: The data set WORK.LVS_F has 432 observations and 14 variables.
 NOTE: DATA statement used (Total process time):
       real time           0.01 seconds
       cpu time            0.01 seconds
       
 
 147        
 148        proc sort data=lvs_f out=lvs_s;
 149        by usubjid avisitn avisit trt01pn trt01p;
 150        run;
 
 NOTE: There were 432 observations read from the data set WORK.LVS_F.
 NOTE: The data set WORK.LVS_S has 432 observations and 14 variables.
 NOTE: PROCEDURE SORT used (Total process time):
       real time           0.00 seconds
       cpu time            0.02 seconds
       
 
 151        
 152        data lvs_fin;
 153        set lvs_s;
 154        
 155        format syschgc diachgc oxchgc hrchgc $10.;
 156        syschgc = strip(put(syschg,best12.));
 157        diachgc = strip(put(diachg,best12.));
 158        hrchgc  = strip(put(hrchg,best12.));
 159        oxchgc  = strip(put(oxchg,best12.));
 160        
 161        
 162        if tpt in ("Screening" "-5 min" "0 min" "Baseline^{super c}") then do;
 163        syschgc = "n/a";
 164        diachgc = "n/a";
 165        hrchgc  = "n/a";
 166        oxchgc  = "n/a";
 167        
 168        end;
 169        
 170        run;
 
 NOTE: There were 432 observations read from the data set WORK.LVS_S.
 NOTE: The data set WORK.LVS_FIN has 432 observations and 18 variables.
 NOTE: DATA statement used (Total process time):
       real time           0.00 seconds
       cpu time            0.00 seconds
       
 
 171        
 172        
 173        **-------------------------------------------------------------------------------**;
 174        **              Create Report Listing 8.1 for Vital Signs                            **;
 175        **-------------------------------------------------------------------------------**;
 176        
 177        /**----- RTF SETUP -----**/;
 178        options nodate nonumber orientation=landscape;
 179        ods listing close ;
 180        ods escapechar='^' ;
 181        ods rtf style=TStyleRTF file="&outpath.VS_L81.rtf" ;
 NOTE: Writing RTF Body file: /folders/myshortcuts/Deepti_Shah_Final_Project_2019/PROD124/output/VS_L81.rtf
 182        
 183        /**----- TITLES/FOOTNOTES -----**/;
 184        title1 j=left "&ptitle1" j=right 'Page ^{pageof}' ;
 185        title2 j=left "&ptitle2" j=right "&sysdate9"  ;
 186        title3 j=center "Listing 8.1" ;
 187        title4 j=center "Vital Signs (Blood Pressure and Heart Rate) and Oxygen Saturation" ;
 188        
 189        footnote1 h=10pt j=left "^R'\brdrt\brdrs\super a\nosupersub Cohort 1 Sequence: Bag in Infusion 1 / Bottle in Infusion 2,
 189      ! Cohort 2 Sequence: Bottle in Infusion 1 / Bag in Infusion 2.'" ;
 190        footnote2 h=10pt j=left "^R'\super b\nosupersub Change from baseline.'" ;
 191        footnote3 h=10pt j=left "^R'\super c\nosupersub Baseline is the last value prior to the start of PROD.'" ;
 192        footnote4 h=10pt j=left "^R'\nosupersub  I or D = Increase or decrease from baseline of clinical importance based on the
 192      ! criteria specified below: \line
 193        \tab Systolic blood pressure above/below normal range(90 to 200mm Hg) and increase/decrease >=20 mm Hg \line
 194        \tab Diastolic blood pressure above/below normal range(60 to 120mm Hg) and increase/decrease >=20 mm Hg \line
 NOTE: The quoted string currently being processed has become more than 262 bytes long.  You might have unbalanced quotation marks.
 195        \tab Heart Rate above/below normal range (45 to 120bpm) and increase/decrease >=10 bpm \line
 196        \tab Oxygen Saturation <90% and decrease >=5%'" ;
 197        
 198        footnote5 h=10pt j=left "^R'\nosupersub n/a = not applicable'";
 199        footnote6 h=10pt j=left "^R'\nosupersub - = missing'" ;
 200        footnote7 j=left "&llastfoot adsllib.advs" j=right "&rlastfoot lvs81.sas";
 201        
 202        /**----- REPORT DEFINITION -----**/;
 203        
 204        proc report data=lvs_fin missing center split='|' style=[outputwidth=9.0in];
 205        
 206           column usubjid trt01p tpt ("^S={borderbottomcolor=black borderbottomwidth=2} Systolic Blood|Pressure (mmHg)"(sysval
 206      ! syschgc)) blank
 207             ("^S={borderbottomcolor=black borderbottomwidth=2} Diastolic Blood|Pressure (mmHg)"(diaval diachgc)) blank
 208         ("^S={borderbottomcolor=black borderbottomwidth=2} Heart Rate|(beats/min)"(hrval hrchgc)) blank
 209         ("^S={borderbottomcolor=black borderbottomwidth=2} Oxygen Saturation (%)" (oxval oxchgc));
 210        
 211           define blank /" " style(column)=[cellwidth=0.1in] ;
 212           define usubjid / order "Subject" center ;
 213           define trt01p / order "Cohort^{super a}" center ;
 214           define tpt / "Scheduled Timepoint";
 215           define sysval /display "Value" center;
 216           define syschgc /display "Change^{super b}" center;
 217           define diaval /display "Value" center;
 218           define diachgc /display "Change^{super b}" center;
 219           define hrval /display "Value" center;
 220           define hrchgc /display "Change^{super b}" center;
 221           define oxval /display "Value" center;
 222           define oxchgc /display "Change^{super b}" center;
 223        
 224           compute after usubjid;
 225           line " ";
 226           endcomp;
 227        run;
 
 NOTE: PROCEDURE REPORT used (Total process time):
       real time           4.20 seconds
       cpu time            4.18 seconds
       
 NOTE: There were 432 observations read from the data set WORK.LVS_FIN.
 
 228        
 229        /**----- CLOSE RTF AND RESET TITLES/FOOTNOTES -----**/;
 230        ods rtf close ;
 231        ods listing ;
 232        
 233        options date number ;
 234        title ;
 235        footnote ;
 236        
 237        
 238        OPTIONS NONOTES NOSTIMER NOSOURCE NOSYNTAXCHECK;
 250        